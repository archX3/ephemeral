(function(d,h){"function"===typeof define&&define.amd?define([],function(){return d["Bee.Event"]=h(d)}):"object"===typeof exports?module.exports=h(d):d["Bee.Event"]=h(d)})(window,function(d){var h=function(){};h.getEvent=function(d){return window.event?window.event:d};h.getEventTarget=function(d){d=h.getEvent(d);return d.target?d.target:d.srcElement};h.ieEvent=function(d,h){window.attachEvent&&el.attachEvent("on"+d,h)};h.getVendorPrefixedName=function(d){return Bee.userAgent.WEBKIT?"webkit"+d:Bee.userAgent.OPERA?
"o"+d.toLowerCase():d.toLowerCase()};Bee.Event=h});
(function(d,h,m){function l(a){this.element=a;this.events={}}function g(){this.eventElements=[]}l.prototype.addEvent=function(a,e,c,b){a&&(a.addEventListener?a.addEventListener(e,c,b||!1):a.attachEvent&&a.attachEvent("on"+e,c))};l.prototype.removeEvent=function(a,e,c,b){a.removeEventListener?a.removeEventListener(e,c,void 0===b?!1:b):a.detachEvent?a.detachEvent("on"+e,c):a["on"+e]=null};l.prototype.bind=function(a,e,c){c=void 0===c?!1:c;d.defined(this.events[a])||(this.events[a]=[]);this.events[a].push(e);
this.addEvent(this.element,a,e,c)};l.prototype.unbind=function(a,e,c){c=void 0===c?!1:c;var b=d.defined(e);a in this.events&&(this.events[a]=this.events[a].filter(function(f){if(b&&f!==e)return!0;this.removeEvent(this.element,a,f,c);return!1},this))};l.prototype.unbindAll=function(){for(var a in this.events)this.unbind(a)};g.prototype.getEvent=function(a){return Event.getEvent(a)};g.prototype.getEventTarget=function(a){a=this.getEvent(a);return Event.getEventTarget(a)};g.prototype.eventElement=function(a,
e){var c=this.eventElements.filter(function(b){return b.element===a})[0];d.defined(c)||(c=new l(a),this.eventElements.push(c));return{evEl:c,eventCount:e||null}};g.prototype.bind=function(a,e,c,b){b=void 0===b?!1:b;this.eventElement(a).evEl.bind(e,c,b)};g.prototype.longClick=function(a,e,c,b,f){c=void 0===c?600:c;b=void 0===b?!1:b;f=void 0===f?!1:f;var k=null;d.isArrayLike(a)?b?(this.bindOnceOnAll(a,"mousedown",function(a){k=setTimeout(function(){clearTimeout(k);e()},c)},f),this.bindOnceOnAll(a,"mouseup",
function(a){clearTimeout(k)},f)):(this.bindOnAll(a,"mousedown",function(a){k=setTimeout(function(){clearTimeout(k);e()},c)},f),this.bindOnAll(a,"mouseup",function(a){clearTimeout(k)},f)):b?(this.bindOnce(a,"mousedown",function(a){k=setTimeout(function(){clearTimeout(k);e()},c)},f),this.bindOnce(a,"mouseup",function(a){clearTimeout(k)},f)):(this.bind(a,"mousedown",function(a){k=setTimeout(function(){clearTimeout(k);e()},c)},f),this.bind(a,"mouseup",function(a){clearTimeout(k)},f))};g.prototype.bindOnAll=
function(a,e,c,b){b=void 0===b?!1:b;if(d.isArray(a)||d.isArrayLike(a)){var f=this;h.forEach(a,function(a){f.bind(a,e,c,b)})}};g.prototype.unbind=function(a,e,c,b){b=void 0===b?!1:b;this.eventElement(a).evEl.unbind(e,c,b)};g.prototype.unbindOnAll=function(a,e,c,b){b=void 0===b?!1:b;var f=this;h.forEach(a,function(a){f.unbind(a,e,c,b)})};g.prototype.unbindAll=function(){for(var a=0;a<this.eventElements.length;a++)this.eventElements[a].unbindAll()};g.prototype.bindOnce=function(a,e,c,b){b=void 0===b?
!1:b;var f=this.eventElement(a).evEl,d=function(a){c(a);f.unbind(e,d,b)};f.bind(e,d,b)};g.prototype.bindOnceOnAll=function(a,e,c,b){b=void 0===b?!1:b;if(d.isArray(a)||d.isArrayLike(a)){var f=this;h.forEach(a,function(a){f.bindOnce(a,e,c,b)})}};g.prototype.bindXTimes=function(a,e,c,b,d){b=void 0===b?1:b;d=void 0===d?!1:d;var f=this.eventElement(a).evEl,g=this.eventElement(a).eventCount||0,h=function(a){g++;g===b&&f.unbind(e,h,d);c(a)};f.bind(e,h,d)};g.prototype.bindXTimesOnAll=function(a,e,c,b,f){b=
void 0===b?1:b;f=void 0===f?!1:f;var g=this;(d.isArray(a)||d.isArrayLike(a))&&d.isNumber(b)&&0<b&&h.forEach(a,function(a){g.bindXTimes(a,e,c,b,f)});g=null};g.prototype.bindNTimes=g.prototype.bindXTimes;g.prototype.bindNTimesOnAll=g.prototype.bindXTimesOnAll;Bee.Event.EventManager=g})(Bee.Utils,Bee.Array,Bee.Object);
